# API 키 설정 가이드

## 🚀 빠른 시작

### 1. 공공데이터포털 API 키 발급 (1-2일 소요)

#### 1-1. 회원가입
1. **https://www.data.go.kr/** 접속
2. **우측 상단 "회원가입" 클릭**
3. **일반회원 선택**
4. **필수 정보 입력:**
   - 아이디, 비밀번호
   - 이름, 이메일
   - 휴대폰 번호
5. **이메일 인증 완료**

#### 1-2. 식품위생업소 정보 API 신청
1. **로그인 후 검색창에 "식품위생업소 정보" 입력**
2. **검색 결과에서 "식품위생업소 정보" 클릭**
3. **상세 페이지에서 "API 신청" 버튼 클릭**
4. **신청 양식 작성:**
   - 활용목적: "맛집 정보 앱 개발"
   - 활용계획: "사용자에게 맛집 정보 제공"
5. **신청 완료 후 승인 대기 (1-2일)**

#### 1-3. API 키 확인
1. **승인 완료 후 "마이페이지" → "API 관리"**
2. **발급받은 API 키 복사**

---

### 2. 카카오맵 API 키 발급 (즉시)

#### 2-1. 카카오 개발자 계정 생성
1. **https://developers.kakao.com/** 접속
2. **"시작하기" 클릭**
3. **카카오 계정으로 로그인**

#### 2-2. 애플리케이션 등록
1. **"내 애플리케이션" → "애플리케이션 추가"**
2. **앱 정보 입력:**
   - **앱 이름:** "Sumbo"
   - **사업자명:** 개인 또는 회사명
   - **회사명:** 개인 또는 회사명
3. **"저장" 클릭**

#### 2-3. REST API 키 확인
1. **애플리케이션 상세 페이지에서 "REST API 키" 복사**

---

### 3. 네이버맵 API 키 발급 (즉시)

#### 3-1. 네이버 클라우드 플랫폼 가입
1. **https://www.ncloud.com/** 접속
2. **"회원가입" 클릭**
3. **네이버 계정으로 가입**

#### 3-2. Maps API 신청
1. **"AI·NAVER API" → "Maps"**
2. **"애플리케이션 등록"**
3. **서비스 정보 입력:**
   - **서비스명:** "Sumbo"
   - **서비스 환경:** Web 서비스
   - **등록 도메인:** localhost
4. **"등록" 클릭**

#### 3-3. Client ID, Secret 확인
1. **등록된 애플리케이션에서 "Client ID"와 "Client Secret" 복사**

---

## 🔧 API 키 설정

### 1. Python 스크립트에 API 키 설정

`data_collector_enhanced.py` 파일을 열고 다음 부분을 수정:

```python
def __init__(self):
    # API 키 설정 (실제 발급 후 교체)
    self.public_data_api_key = "YOUR_PUBLIC_DATA_API_KEY"  # 여기에 실제 키 입력
    self.kakao_api_key = "YOUR_KAKAO_API_KEY"  # 여기에 실제 키 입력
    self.naver_client_id = "YOUR_NAVER_CLIENT_ID"  # 여기에 실제 키 입력
    self.naver_client_secret = "YOUR_NAVER_CLIENT_SECRET"  # 여기에 실제 키 입력
```

### 2. API 키 테스트

```bash
python api_test.py
```

### 3. 데이터 수집 실행

```bash
python data_collector_enhanced.py
```

---

## 📊 수집되는 데이터

### 지역별 수집 구역
- **서울:** 강남구, 서초구, 마포구, 홍대, 이태원, 명동, 동대문, 종로구, 용산구, 성동구, 광진구, 중구, 중랑구, 노원구, 도봉구, 강북구, 성북구, 강서구, 양천구, 영등포구, 구로구, 금천구, 동작구, 관악구, 서대문구, 은평구
- **경기도:** 분당구, 광교, 판교, 일산, 과천, 안양, 수원, 성남, 용인, 고양, 의정부, 남양주, 하남, 광주, 여주, 이천, 안성, 평택, 오산, 화성, 시흥, 부천, 광명, 군포, 의왕, 안산, 양평, 가평, 연천, 포천, 동두천, 구리

### 카테고리별 수집
- **한식:** 한식, 한정식, 백반, 국밥, 국수, 찌개, 구이, 회
- **중식:** 중식, 중국요리, 딤섬, 마라탕, 훠궈
- **일식:** 일식, 스시, 라멘, 우동, 덮밥, 돈부리
- **양식:** 양식, 파스타, 피자, 스테이크, 샌드위치
- **분식:** 분식, 떡볶이, 김밥, 라면, 순대
- **카페:** 카페, 커피, 디저트, 베이커리
- **디저트:** 디저트, 아이스크림, 케이크, 마카롱, 크로플

---

## 🔍 데이터 품질 관리

### 중복 제거
- 이름과 주소 기준으로 중복 제거
- 소스별 우선순위: 공공데이터 > 카카오맵 > 네이버맵

### 데이터 보강
- 평점: 3.0 ~ 5.0 랜덤 생성
- 리뷰 수: 0 ~ 500 랜덤 생성
- 좋아요 수: 0 ~ 100 랜덤 생성
- 방문 수: 0 ~ 1000 랜덤 생성
- 추천 여부: 평점 4.0 이상
- 태그: 평점, 방문수, 카테고리 기반 자동 생성

---

## 📁 생성되는 파일

### 데이터 파일
- `assets/restaurants_data.json`: Flutter 앱용 JSON 데이터
- `assets/restaurants_data.csv`: 분석용 CSV 데이터
- `assets/collection_stats.json`: 수집 통계 정보

### 로그 파일
- `data_collection.log`: 수집 과정 로그

---

## ⚠️ 주의사항

### API 호출 제한
- 공공데이터포털: 초당 1회
- 카카오맵: 일일 300,000회
- 네이버맵: 일일 25,000회

### 수집 시간
- 전체 수집 예상 시간: 2-3시간
- 지역별 수집 시간: 30-60분

### 에러 처리
- 네트워크 오류 시 자동 재시도
- API 키 오류 시 즉시 중단
- 데이터 파싱 오류 시 로그 기록

---

## 🎯 다음 단계

1. **API 키 발급 완료**
2. **API 키 설정**
3. **데이터 수집 실행**
4. **Flutter 앱에서 데이터 로드**
5. **앱 테스트 및 개선** 